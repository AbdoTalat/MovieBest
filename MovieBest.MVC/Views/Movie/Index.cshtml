@model Pagination<Movie>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Planet</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/global.css" rel="stylesheet">
    <link href="/css/index.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Rajdhani&display=swap" rel="stylesheet">
    <script src="/js/bootstrap.bundle.min.js"></script>

</head>
<body>
    <main id="main" class="main">
        <section id="center" class="center_o pt-2 pb-2">
            <div class="container-xl">
                <div class="row center_o1">
                    <div class="col-md-5">
                        <div class="center_o1l">
                            <h2 class="mb-0">Movies Panel</h2>
                        </div>
                    </div>
                    <div class="col-md-7">
                        <div class="center_o1r text-end">
                            <h6 class="mb-0 col_red"><a href="#">Home</a> <span class="me-2 ms-2 text-light"><i class="fa fa-caret-right align-middle"></i></span> Contact</h6>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="price" class="pt-4 pb-4 bg_grey">
            <div class="container-xl">
                <form asp-action="Index" asp-controller="Movie" method="get">
                    <div class="top_1m">
                        <div class="input-group" style="width:65%">
                            <input type="text" name="searchString" class="form-control bg-black" value="@Context.Request.Query["searchString"]" placeholder="Search by title..." />
                            <input type="submit" class="btn btn text-white bg_red rounded-0 border-0" value="Search" />
                            <div style="margin-left:20px;">
                                <label  for="pageSize">Page Size:</label>
                                <select style="width:60px; height:30px" name="pageSize" id="pageSize" asp-items="ViewBag.PageSizeList"></select>
                            </div>
                             <div style="margin-left:20px">
                                <label for="pageNumber">Page Number:</label>
                                <input type="number" name="pageNumber" id="pageNumber" value="@Model.PageNumber" min="1" max="@((Model.Count + Model.PageSize - 1) / Model.PageSize)" onchange="this.form.submit()" />
                            </div>
                        </div>
                    </div>
                </form> <br />

                <a  class="btn btn-light" asp-action="Index" asp-controller="Movie" style="width:35%;"><b> Back to Full List</b></a>

                <a asp-action="AddNew" asp-controller="Movie" class="btn btn-light" style="width:30%; margin-left:70%"><b>Add New Movie</b> </a>
                <br />
                <br />

                <table class="table datatable">
                    <thead class="col_red" style="font-size:22px; font-weight:bold">
                        <tr>
                            <th>Title</th>
                            <th>Release Date</th>
                            <th>Rating</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody style="color:white; font-size:18px">
                        @foreach (var movie in Model.Data)
                        {
                            <tr>
                                <td><span>@movie.Title</span></td>
                                <td>@movie.ReleaseDate.ToShortDateString()</td>
                                <td>
                                    <span style="color:darkgoldenrod">
                                        <i class="fa fa-star"></i>
                                        <i>@movie.Rating</i>
                                    </span>
                                </td>
                                <td>
                                    <a asp-action="Details" asp-controller="Movie" asp-route-ID="@movie.ID" class="btn btn-outline-info">Info </a>
                                </td>
                                <td>
                                    <a asp-action="Edit" asp-controller="Movie" asp-route-ID="@movie.ID" class="btn btn-outline-light"> Edit </a>
                                </td>
                                <td>
                                    <a asp-action="Delete" asp-controller="Movie" asp-route-ID="@movie.ID" class="btn btn-outline-danger">Delete</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

                <div>
                    Page @Model.PageNumber of @((Model.Count + Model.PageSize - 1) / Model.PageSize)
                </div>

                <div>
                    @if (Model.PageNumber > 1)
                    {
                       <a asp-action="Index" asp-route-pageNumber="@(Model.PageNumber - 1)" asp-route-pageSize="@Model.PageSize" asp-route-searchString="@Context.Request.Query["searchString"]">Previous</a>
                    }

                    @if (Model.PageNumber < (Model.Count + Model.PageSize - 1) / Model.PageSize)
                    {
                        <a asp-action="Index" asp-route-pageNumber="@(Model.PageNumber + 1)" asp-route-pageSize="@Model.PageSize" asp-route-searchString="@Context.Request.Query["searchString"]">Next</a>
                    }
                </div>
            </div>
        </section>
    </main>
</body>
</html>
